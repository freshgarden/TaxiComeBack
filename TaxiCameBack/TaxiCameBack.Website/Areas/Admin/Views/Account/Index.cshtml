@using TaxiCameBack.Core.Constants
@using TaxiCameBack.Website.Application.Extension
@using TaxiCameBack.Website.App_LocalResources
@model TaxiCameBack.Website.Areas.Admin.Models.MemberListViewModel
@{
    ViewBag.Title = AccountManager.title;
}
<link href="@Url.Content("~/Scripts/plugins/datatables/dataTables.bootstrap.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/plugins/datatables/jquery.dataTables.min.js")"></script>
<script src="@Url.Content("~/Scripts/plugins/datatables/dataTables.bootstrap.min.js")"></script>
<section class="content-header">
    <h1>
        @ViewBag.Title
    </h1>
    <ol class="breadcrumb">
        <li><a href="@Url.Action("Index")"><i class="fa fa-dashboard"></i> @HomeBackEnd.home_breadcrumb</a></li>
        <li class="active">@ViewBag.Title</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <!-- Info boxes -->
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">@ViewBag.Title</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <table id="example2" class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>@AccountManager.edit_column_header</th>
                                <th>@AccountManager.user_column_header</th>
                                <th>@AccountManager.approve_column_header</th>
                                <th>@AccountManager.locked_acc_column_header</th>
                                @*                    <th>Roles</th>*@
                                <th>@AccountManager.delete_acc_column_header</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var user in Model.Users)
                            {
                                var disabled = user.Id == Model.Id;

                                <tr>
                                    <td>
                                        <a href="@Url.Action("Edit", new { user.Id })" class="btn-mvc">
                                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        </a>
                                    </td>
                                    <td>
                                        <strong>@Html.DisplayFor(modelItem => user.UserEmail)</strong>
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => user.IsApproved)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => user.IsLockedOut)
                                    </td>
                                    @*                        <td>*@
                                    @*                            <span class="listrolecbholder">*@
                                    @*                                @foreach (var role in @Model.AllRoles)*@
                                    @*                                {*@
                                    @*                                    var showChecked = user.Roles.Contains(role.RoleName) ? "checked='checked'" : "";*@
                                    @*                                    var disablecb = disabled ? "disabled='disabled'" : "";*@
                                    @*                                    <span class="listrolecb">*@
                                    @*                                        <input type="radio" name="Roles-@user.UserId" value="@role.RoleName" @showChecked @disablecb /> @Html.Raw(role.RoleName)*@
                                    @*                                    </span>*@
                                    @*                                }*@
                                    @*                                <input type="hidden" id="userUserId" value="@user.UserRoleId" />*@
                                    @*                            </span>*@
                                    @*                        </td>*@
                                    <td>
                                        @if (!disabled)
                                        {
                                            <a href="@Url.Action("Delete", new { user.Id, p = Model.PageIndex, search = Model.Search})" class="btn-mvc">
                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                            </a>
                                        }
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    $(function () {
        $('#example2').DataTable({
            "paging": true,
            "searching": true,
            "ordering": true,
            "language": {
                "sProcessing": "Đang xử lý...",
                "sLengthMenu": "Xem _MENU_ mục",
                "sZeroRecords": "Không tìm thấy dòng nào phù hợp",
                "sInfo": "Đang xem _START_ đến _END_ trong tổng số _TOTAL_ mục",
                "sInfoEmpty": "Đang xem 0 đến 0 trong tổng số 0 mục",
                "sInfoFiltered": "(được lọc từ _MAX_ mục)",
                "sInfoPostFix": "",
                "sSearch": "Tìm:",
                "sUrl": "",
                "oPaginate": {
                    "sFirst": "Đầu",
                    "sPrevious": "Trước",
                    "sNext": "Tiếp",
                    "sLast": "Cuối"
                }
            }
        });
    });
</script>